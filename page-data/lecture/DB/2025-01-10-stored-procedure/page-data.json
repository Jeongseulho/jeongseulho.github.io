{"componentChunkName":"component---src-templates-lecture-template-tsx","path":"/lecture/DB/2025-01-10-stored-procedure/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1 id=\"stored-procedure\" style=\"position:relative;\"><a href=\"#stored-procedure\" aria-label=\"stored procedure permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>stored procedure</h1>\n<ul>\n<li>stored function과 유사하지만, 비즈니스 로직을 처리하는데 주로 사용</li>\n<li>주로 비즈니스 로직을 처리하는데 사용</li>\n</ul>\n<h2 id=\"기본적인-문법\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EB%AC%B8%EB%B2%95\" aria-label=\"기본적인 문법 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본적인 문법</h2>\n<ul>\n<li>두 정수의 곱셈을 처리하는 프로시저</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"46572262158540464000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`CREATE PROCEDURE product(IN a INT, IN b INT, OUT result INT) -- IN은 파라미터, OUT은 반환값\r\nBEGIN\r\n    SET result = a * b;\r\nEND;`, `46572262158540464000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">PROCEDURE</span> product<span class=\"token punctuation\">(</span><span class=\"token operator\">IN</span> a <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">IN</span> b <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">OUT</span> result <span class=\"token keyword\">INT</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- IN은 파라미터, OUT은 반환값</span>\r\n<span class=\"token keyword\">BEGIN</span>\r\n    <span class=\"token keyword\">SET</span> result <span class=\"token operator\">=</span> a <span class=\"token operator\">*</span> b<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"62840414872182970000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`call product(2, 3, @result); -- 프로시저 호출\r\nselect @result; -- 프로시저 결과 출력`, `62840414872182970000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">call</span> product<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@result</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 프로시저 호출</span>\r\n<span class=\"token keyword\">select</span> <span class=\"token variable\">@result</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 프로시저 결과 출력</span></code></pre></div>\n<h2 id=\"inout-사용\" style=\"position:relative;\"><a href=\"#inout-%EC%82%AC%EC%9A%A9\" aria-label=\"inout 사용 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>INOUT 사용</h2>\n<ul>\n<li>두 정수의 값을 바꾸는 프로시저</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"80236626905578680000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`CREATE PROCEDURE swap(INOUT a INT, INOUT b INT)\r\nBEGIN\r\n    SET @temp = a;\r\n    SET a = b;\r\n    SET b = @temp;\r\nEND;`, `80236626905578680000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">PROCEDURE</span> swap<span class=\"token punctuation\">(</span><span class=\"token keyword\">INOUT</span> a <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">INOUT</span> b <span class=\"token keyword\">INT</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">BEGIN</span>\r\n    <span class=\"token keyword\">SET</span> <span class=\"token variable\">@temp</span> <span class=\"token operator\">=</span> a<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">SET</span> a <span class=\"token operator\">=</span> b<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">SET</span> b <span class=\"token operator\">=</span> <span class=\"token variable\">@temp</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"45799518773835350000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`set @a = 5, @b = 7;\r\ncall swap(@a, @b);\r\nselect @a, @b;`, `45799518773835350000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">set</span> <span class=\"token variable\">@a</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@b</span> <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">call</span> swap<span class=\"token punctuation\">(</span><span class=\"token variable\">@a</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@b</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">select</span> <span class=\"token variable\">@a</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@b</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"조회-쿼리-사용\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%ED%9A%8C-%EC%BF%BC%EB%A6%AC-%EC%82%AC%EC%9A%A9\" aria-label=\"조회 쿼리 사용 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>조회 쿼리 사용</h2>\n<ul>\n<li>각 부서별 평균 급여를 출력하는 프로시저</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"75169473524056770000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`CREATE PROCEDURE get_dept_avg_salary()\r\nBEGIN\r\n    SELECT dept_id, AVG(salary) -- 본문에 쿼리사용 시 쿼리 결과 테이블이 반환됨\r\n    FROM employee \r\n    GROUP BY dept_id;\r\nEND;`, `75169473524056770000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">PROCEDURE</span> get_dept_avg_salary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">BEGIN</span>\r\n    <span class=\"token keyword\">SELECT</span> dept_id<span class=\"token punctuation\">,</span> <span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span> <span class=\"token comment\">-- 본문에 쿼리사용 시 쿼리 결과 테이블이 반환됨</span>\r\n    <span class=\"token keyword\">FROM</span> employee \r\n    <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> dept_id<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"72429180714850540000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`call get_dept_avg_salary();`, `72429180714850540000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">call</span> get_dept_avg_salary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"삽입-수정-쿼리-사용\" style=\"position:relative;\"><a href=\"#%EC%82%BD%EC%9E%85-%EC%88%98%EC%A0%95-%EC%BF%BC%EB%A6%AC-%EC%82%AC%EC%9A%A9\" aria-label=\"삽입 수정 쿼리 사용 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>삽입, 수정, 쿼리 사용</h2>\n<ul>\n<li>사용자가 닉네임을 변경하면 이전 닉네임을 저장하고, 새 닉네임으로 업데이트하는 프로시저</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"56690203032554770000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`CREATE PROCEDURE change_nickname(user_id INT, new_nickname VARCHAR(255)) -- IN은 생략 가능\r\nBEGIN\r\n    INSERT INTO user_nickname_history (\r\n        select id, nickname, now() from users where id = user_id\r\n    );\r\n    UPDATE users SET nickname = new_nickname WHERE id = user_id;\r\nEND;`, `56690203032554770000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">PROCEDURE</span> change_nickname<span class=\"token punctuation\">(</span>user_id <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span> new_nickname <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">-- IN은 생략 가능</span>\r\n<span class=\"token keyword\">BEGIN</span>\r\n    <span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> user_nickname_history <span class=\"token punctuation\">(</span>\r\n        <span class=\"token keyword\">select</span> id<span class=\"token punctuation\">,</span> nickname<span class=\"token punctuation\">,</span> <span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> users <span class=\"token keyword\">where</span> id <span class=\"token operator\">=</span> user_id\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">UPDATE</span> users <span class=\"token keyword\">SET</span> nickname <span class=\"token operator\">=</span> new_nickname <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> user_id<span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">END</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"75167201838992590000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`call change_nickname(1, 'new_nickname');`, `75167201838992590000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">call</span> change_nickname<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'new_nickname'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"procedure와-function의-차이\" style=\"position:relative;\"><a href=\"#procedure%EC%99%80-function%EC%9D%98-%EC%B0%A8%EC%9D%B4\" aria-label=\"procedure와 function의 차이 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>procedure와 function의 차이</h1>\n<p><img src=\"https://github.com/user-attachments/assets/52059b13-2571-4e32-a2f6-bff44d37306e\" alt=\"Image\"></p>\n<h1 id=\"stored-procedure-사용-이유\" style=\"position:relative;\"><a href=\"#stored-procedure-%EC%82%AC%EC%9A%A9-%EC%9D%B4%EC%9C%A0\" aria-label=\"stored procedure 사용 이유 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>stored procedure 사용 이유</h1>\n<p>앞서 <code class=\"language-text\">stored function</code>에서는 백엔드와 DB 역할 분리를 위해 DB에서는 비즈니스 로직을 처리하지 않도록 하는 것을 권장하였음<br>\n하지만, <code class=\"language-text\">stored procedure</code>는 DB에서 비즈니스 로직을 처리하는데 사용됨<br>\n이에 따라 <code class=\"language-text\">stored procedure</code>를 사용하여 DB에서 비즈니스 로직을 처리하면 어떤 장점이 있는지 정리</p>\n<h2 id=\"1-수정-및-변경-용의\" style=\"position:relative;\"><a href=\"#1-%EC%88%98%EC%A0%95-%EB%B0%8F-%EB%B3%80%EA%B2%BD-%EC%9A%A9%EC%9D%98\" aria-label=\"1 수정 및 변경 용의 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 수정 및 변경 용의</h2>\n<p>만약 백엔드에서 비즈니스 로직이 있고 이를 수정해야하면, 백엔드 코드 수정 이후 CI/CD 파이프라인을 통해 배포 과정을 거쳐야 함<br>\n하지만, <code class=\"language-text\">stored procedure</code>는 백엔드 코드 수정 없이 바로 DB에서만 수정하면 됨.</p>\n<h2 id=\"2-네트워크-트래픽-감소-응답-속도-향상\" style=\"position:relative;\"><a href=\"#2-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8A%B8%EB%9E%98%ED%94%BD-%EA%B0%90%EC%86%8C-%EC%9D%91%EB%8B%B5-%EC%86%8D%EB%8F%84-%ED%96%A5%EC%83%81\" aria-label=\"2 네트워크 트래픽 감소 응답 속도 향상 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 네트워크 트래픽 감소, 응답 속도 향상</h2>\n<p>백엔드에서 한 로직에서 여러 쿼리를 날리면 네트워크 트래픽이 증가하고 응답 속도가 느려짐<br>\n하지만, <code class=\"language-text\">stored procedure</code>로 해당 쿼리를 모아놓고 백엔드에서 한 번의 쿼리만 날리면 네트워크 트래픽 감소 및 응답 속도 향상 효과를 얻을 수 있음</p>\n<h2 id=\"3-msa에서-재사용-가능\" style=\"position:relative;\"><a href=\"#3-msa%EC%97%90%EC%84%9C-%EC%9E%AC%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5\" aria-label=\"3 msa에서 재사용 가능 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. MSA에서 재사용 가능</h2>\n<p>여러 백엔드가 하나의 DB에서 동일한 로직을 처리하는 경우, DB에 <code class=\"language-text\">stored procedure</code>를 만들어놓으면 백엔드에서 재사용 가능</p>\n<h2 id=\"4-데이터-보안-향상\" style=\"position:relative;\"><a href=\"#4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B3%B4%EC%95%88-%ED%96%A5%EC%83%81\" aria-label=\"4 데이터 보안 향상 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 데이터 보안 향상</h2>\n<p>DB에서 <code class=\"language-text\">stored procedure</code>를 만들어놓고 백엔드에서는 DB 직접 접근을 못하게 하고 <code class=\"language-text\">stored procedure</code>를 통해서만 접근할 수 있도록 하여 보안을 강화할 수 있음</p>\n<h1 id=\"stored-procedure-단점\" style=\"position:relative;\"><a href=\"#stored-procedure-%EB%8B%A8%EC%A0%90\" aria-label=\"stored procedure 단점 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>stored procedure 단점</h1>\n<h2 id=\"1-유지보수의-어려움\" style=\"position:relative;\"><a href=\"#1-%EC%9C%A0%EC%A7%80%EB%B3%B4%EC%88%98%EC%9D%98-%EC%96%B4%EB%A0%A4%EC%9B%80\" aria-label=\"1 유지보수의 어려움 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 유지보수의 어려움</h2>\n<p>비즈니스 로직이 백엔드에도 있고 DB에도 있으며 로직 확인마다 두 곳을 모두 봐야함.<br>\n또한, 두 곳에서의 버전이 서로 맞는지도 확인해야함.</p>\n<h2 id=\"2-db의-부하-증가와-부하가-몰리는-경우-대처가-어려움\" style=\"position:relative;\"><a href=\"#2-db%EC%9D%98-%EB%B6%80%ED%95%98-%EC%A6%9D%EA%B0%80%EC%99%80-%EB%B6%80%ED%95%98%EA%B0%80-%EB%AA%B0%EB%A6%AC%EB%8A%94-%EA%B2%BD%EC%9A%B0-%EB%8C%80%EC%B2%98%EA%B0%80-%EC%96%B4%EB%A0%A4%EC%9B%80\" aria-label=\"2 db의 부하 증가와 부하가 몰리는 경우 대처가 어려움 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. DB의 부하 증가와 부하가 몰리는 경우 대처가 어려움</h2>\n<p>DB에서 비즈니스 로직을 처리하면 부하가 증가함.\r\n또한, 백엔드에서 부하가 몰린다면 오토 스케일링과 같은 방법으로 대처하지만 DB는 이러한 방법을 사용하기 어려움(DB 데이터 복사와 같은 과정 필요)</p>\n<h2 id=\"3-수정-및-변경이-항상-용이하지-않음\" style=\"position:relative;\"><a href=\"#3-%EC%88%98%EC%A0%95-%EB%B0%8F-%EB%B3%80%EA%B2%BD%EC%9D%B4-%ED%95%AD%EC%83%81-%EC%9A%A9%EC%9D%B4%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%8C\" aria-label=\"3 수정 및 변경이 항상 용이하지 않음 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 수정 및 변경이 항상 용이하지 않음</h2>\n<p>만약 <code class=\"language-text\">stored procedure</code>의 이름을 수정한다면 이를 사용하는 모든 백엔드 어플리케이션의 코드도 수정해야함.</p>\n<h2 id=\"4-수정이-용이한-것이-항상-좋은-것은-아님\" style=\"position:relative;\"><a href=\"#4-%EC%88%98%EC%A0%95%EC%9D%B4-%EC%9A%A9%EC%9D%B4%ED%95%9C-%EA%B2%83%EC%9D%B4-%ED%95%AD%EC%83%81-%EC%A2%8B%EC%9D%80-%EA%B2%83%EC%9D%80-%EC%95%84%EB%8B%98\" aria-label=\"4 수정이 용이한 것이 항상 좋은 것은 아님 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 수정이 용이한 것이 항상 좋은 것은 아님</h2>\n<p>백엔드 코드에서 로직을 관리하면 파이프라인을 통해 테스트 및 검증 과정이 있지만, <code class=\"language-text\">stored procedure</code>를 바로 수정하면 안정성이 떨어질 수 있음.</p>\n<h2 id=\"5-기타\" style=\"position:relative;\"><a href=\"#5-%EA%B8%B0%ED%83%80\" aria-label=\"5 기타 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 기타</h2>\n<ul>\n<li>유연하고 복잡한 로직 작성 어려움</li>\n<li>가독성이 떨어짐</li>\n<li>디버깅이 어려움</li>\n</ul>\n<h1 id=\"stored-procedure-없이-db-트래픽-감소-및-응답-속도-향상시키기\" style=\"position:relative;\"><a href=\"#stored-procedure-%EC%97%86%EC%9D%B4-db-%ED%8A%B8%EB%9E%98%ED%94%BD-%EA%B0%90%EC%86%8C-%EB%B0%8F-%EC%9D%91%EB%8B%B5-%EC%86%8D%EB%8F%84-%ED%96%A5%EC%83%81%EC%8B%9C%ED%82%A4%EA%B8%B0\" aria-label=\"stored procedure 없이 db 트래픽 감소 및 응답 속도 향상시키기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>stored procedure 없이 DB 트래픽 감소 및 응답 속도 향상시키기</h1>\n<h2 id=\"여러-쿼리를-백엔드에서-동시에-날리기\" style=\"position:relative;\"><a href=\"#%EC%97%AC%EB%9F%AC-%EC%BF%BC%EB%A6%AC%EB%A5%BC-%EB%B0%B1%EC%97%94%EB%93%9C%EC%97%90%EC%84%9C-%EB%8F%99%EC%8B%9C%EC%97%90-%EB%82%A0%EB%A6%AC%EA%B8%B0\" aria-label=\"여러 쿼리를 백엔드에서 동시에 날리기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>여러 쿼리를 백엔드에서 동시에 날리기</h2>\n<p>여러 쿼리를 순차적으로 날리는 상황에서 만약 여러 쿼리의 순서가 중요하지 않다면,<br>\n백엔드에서 여러 쿼리를 동시에 날리면 응답 속도 향상 효과를 얻을 수 있음.</p>\n<h2 id=\"cache-사용\" style=\"position:relative;\"><a href=\"#cache-%EC%82%AC%EC%9A%A9\" aria-label=\"cache 사용 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cache 사용</h2>\n<p><code class=\"language-text\">redis</code>와 같은 캐시 db를 사용하여 쿼리 결과를 캐시하면 db 부하를 줄이면서도 응답 속도 향상 효과를 얻을 수 있음.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#stored-procedure\">stored procedure</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EB%AC%B8%EB%B2%95\">기본적인 문법</a></li>\n<li><a href=\"#inout-%EC%82%AC%EC%9A%A9\">INOUT 사용</a></li>\n<li><a href=\"#%EC%A1%B0%ED%9A%8C-%EC%BF%BC%EB%A6%AC-%EC%82%AC%EC%9A%A9\">조회 쿼리 사용</a></li>\n<li><a href=\"#%EC%82%BD%EC%9E%85-%EC%88%98%EC%A0%95-%EC%BF%BC%EB%A6%AC-%EC%82%AC%EC%9A%A9\">삽입, 수정, 쿼리 사용</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#procedure%EC%99%80-function%EC%9D%98-%EC%B0%A8%EC%9D%B4\">procedure와 function의 차이</a></p>\n</li>\n<li>\n<p><a href=\"#stored-procedure-%EC%82%AC%EC%9A%A9-%EC%9D%B4%EC%9C%A0\">stored procedure 사용 이유</a></p>\n<ul>\n<li><a href=\"#1-%EC%88%98%EC%A0%95-%EB%B0%8F-%EB%B3%80%EA%B2%BD-%EC%9A%A9%EC%9D%98\">1. 수정 및 변경 용의</a></li>\n<li><a href=\"#2-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%ED%8A%B8%EB%9E%98%ED%94%BD-%EA%B0%90%EC%86%8C-%EC%9D%91%EB%8B%B5-%EC%86%8D%EB%8F%84-%ED%96%A5%EC%83%81\">2. 네트워크 트래픽 감소, 응답 속도 향상</a></li>\n<li><a href=\"#3-msa%EC%97%90%EC%84%9C-%EC%9E%AC%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5\">3. MSA에서 재사용 가능</a></li>\n<li><a href=\"#4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B3%B4%EC%95%88-%ED%96%A5%EC%83%81\">4. 데이터 보안 향상</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#stored-procedure-%EB%8B%A8%EC%A0%90\">stored procedure 단점</a></p>\n<ul>\n<li><a href=\"#1-%EC%9C%A0%EC%A7%80%EB%B3%B4%EC%88%98%EC%9D%98-%EC%96%B4%EB%A0%A4%EC%9B%80\">1. 유지보수의 어려움</a></li>\n<li><a href=\"#2-db%EC%9D%98-%EB%B6%80%ED%95%98-%EC%A6%9D%EA%B0%80%EC%99%80-%EB%B6%80%ED%95%98%EA%B0%80-%EB%AA%B0%EB%A6%AC%EB%8A%94-%EA%B2%BD%EC%9A%B0-%EB%8C%80%EC%B2%98%EA%B0%80-%EC%96%B4%EB%A0%A4%EC%9B%80\">2. DB의 부하 증가와 부하가 몰리는 경우 대처가 어려움</a></li>\n<li><a href=\"#3-%EC%88%98%EC%A0%95-%EB%B0%8F-%EB%B3%80%EA%B2%BD%EC%9D%B4-%ED%95%AD%EC%83%81-%EC%9A%A9%EC%9D%B4%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%8C\">3. 수정 및 변경이 항상 용이하지 않음</a></li>\n<li><a href=\"#4-%EC%88%98%EC%A0%95%EC%9D%B4-%EC%9A%A9%EC%9D%B4%ED%95%9C-%EA%B2%83%EC%9D%B4-%ED%95%AD%EC%83%81-%EC%A2%8B%EC%9D%80-%EA%B2%83%EC%9D%80-%EC%95%84%EB%8B%98\">4. 수정이 용이한 것이 항상 좋은 것은 아님</a></li>\n<li><a href=\"#5-%EA%B8%B0%ED%83%80\">5. 기타</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#stored-procedure-%EC%97%86%EC%9D%B4-db-%ED%8A%B8%EB%9E%98%ED%94%BD-%EA%B0%90%EC%86%8C-%EB%B0%8F-%EC%9D%91%EB%8B%B5-%EC%86%8D%EB%8F%84-%ED%96%A5%EC%83%81%EC%8B%9C%ED%82%A4%EA%B8%B0\">stored procedure 없이 DB 트래픽 감소 및 응답 속도 향상시키기</a></p>\n<ul>\n<li><a href=\"#%EC%97%AC%EB%9F%AC-%EC%BF%BC%EB%A6%AC%EB%A5%BC-%EB%B0%B1%EC%97%94%EB%93%9C%EC%97%90%EC%84%9C-%EB%8F%99%EC%8B%9C%EC%97%90-%EB%82%A0%EB%A6%AC%EA%B8%B0\">여러 쿼리를 백엔드에서 동시에 날리기</a></li>\n<li><a href=\"#cache-%EC%82%AC%EC%9A%A9\">cache 사용</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"stored procedure","date":"2025년 01월 10일","tags":["CS"]}}}]}},"pageContext":{"slug":"/lecture/DB/2025-01-10-stored-procedure/","previous":{"fields":{"slug":"/lecture/DB/2025-01-09-stored-function/"},"frontmatter":{"categories":["DB"],"title":"stored function","date":"2025-01-09 18:00:00 +0900","tags":["CS"]}},"next":null}},"staticQueryHashes":[],"slicesMap":{}}