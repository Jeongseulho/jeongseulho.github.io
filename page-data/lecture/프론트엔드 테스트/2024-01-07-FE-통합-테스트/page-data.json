{"componentChunkName":"component---src-templates-lecture-template-tsx","path":"/lecture/í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸/2024-01-07-FE-í†µí•©-í…ŒìŠ¤íŠ¸/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"0-ë“¤ì–´ê°€ë©°\" style=\"position:relative;\"><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"0 ë“¤ì–´ê°€ë©° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. ë“¤ì–´ê°€ë©°</h2>\n<p>FEì—ì„œì˜ í†µí•© í…ŒìŠ¤íŠ¸ì™€ ì˜ˆì‹œë¥¼ ì •ë¦¬</p>\n<h2 id=\"1-feì—ì„œ-í†µí•©-í…ŒìŠ¤íŠ¸ë€\" style=\"position:relative;\"><a href=\"#1-fe%EC%97%90%EC%84%9C-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%9E%80\" aria-label=\"1 feì—ì„œ í†µí•© í…ŒìŠ¤íŠ¸ë€ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. FEì—ì„œ í†µí•© í…ŒìŠ¤íŠ¸ë€?</h2>\n<ul>\n<li>í†µí•© í…ŒìŠ¤íŠ¸ : 2ê°œ ì´ìƒì˜ ëª¨ë“ˆì´ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ë°œìƒí•˜ëŠ” ìƒíƒœë¥¼ ê²€ì¦</li>\n<li>FEì—ì„œì˜ í†µí•© í…ŒìŠ¤íŠ¸ : APIì™€ í•¨ê»˜ ìƒí˜¸ì‘ìš© í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì¡°í•©ì„ í…ŒìŠ¤íŠ¸, íŠ¹ì • ìƒíƒœë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì¡°í•©ì„ í…ŒìŠ¤íŠ¸</li>\n</ul>\n<h2 id=\"2-í†µí•©-í…ŒìŠ¤íŠ¸-ëŒ€ìƒ-ì„ ì •\" style=\"position:relative;\"><a href=\"#2-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8C%80%EC%83%81-%EC%84%A0%EC%A0%95\" aria-label=\"2 í†µí•© í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì„ ì • permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. í†µí•© í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì„ ì •</h2>\n<h3 id=\"1-ê±°ëŒ€í•œ-í†µí•©-í…ŒìŠ¤íŠ¸ì˜-ë‹¨ì \" style=\"position:relative;\"><a href=\"#1-%EA%B1%B0%EB%8C%80%ED%95%9C-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9D%98-%EB%8B%A8%EC%A0%90\" aria-label=\"1 ê±°ëŒ€í•œ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ë‹¨ì  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) ê±°ëŒ€í•œ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ë‹¨ì </h3>\n<ul>\n<li>ëª¨í‚¹ ì½”ë“œê°€ ì¦ê°€í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì‹ ë¢°ì„±ì´ ì €í•˜</li>\n<li>ì‘ì€ ìˆ˜ì •ì‚¬í•­ì—ë„ ë§ì€ í…ŒìŠ¤íŠ¸ê°€ ê¹¨ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ ì§€ ë³´ìˆ˜ì„±ì´ ë–¨ì–´ì§</li>\n</ul>\n<h3 id=\"2-ë¹„ì¦ˆë‹ˆìŠ¤-ë¡œì§ì„-ê¸°ì¤€ìœ¼ë¡œ-ë¶„ë¦¬í•œ-í†µí•©-í…ŒìŠ¤íŠ¸ì˜-ì¥ì \" style=\"position:relative;\"><a href=\"#2-%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81%EC%9D%84-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EB%B6%84%EB%A6%AC%ED%95%9C-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"2 ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ì¥ì  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ì¥ì </h3>\n<ul>\n<li>í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë…ë¦½ì ì¸ ê´€ì ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥</li>\n<li>í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì•±ì˜ ê¸°ëŠ¥ì„ ì´í•´í•˜ê¸° ì‰¬ì›€</li>\n<li>ë¶ˆí•„ìš”í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ</li>\n<li>ê° ì˜ì—­ ë³„ë¡œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ëª¨í‚¹</li>\n</ul>\n<h3 id=\"3-í†µí•©-í…ŒìŠ¤íŠ¸-ì£¼ì˜ì‚¬í•­\" style=\"position:relative;\"><a href=\"#3-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\" aria-label=\"3 í†µí•© í…ŒìŠ¤íŠ¸ ì£¼ì˜ì‚¬í•­ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) í†µí•© í…ŒìŠ¤íŠ¸ ì£¼ì˜ì‚¬í•­</h3>\n<ul>\n<li>ê°€ëŠ¥í•œ ëª¨í‚¹ì„ ìµœì†Œí™”í•˜ì—¬ ì‹¤ì œ ê¸°ëŠ¥ê³¼ ìœ ì‚¬í•˜ê²Œ ê²€ì¦</li>\n<li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ìƒíƒœ ê´€ë¦¬ë‚˜ API ë¡œì§ì€ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‘ì§‘í•˜ì—¬ ê´€ë¦¬í•˜ê³  ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸</li>\n</ul>\n<h2 id=\"3-zustand-ìƒíƒœ-ê´€ë¦¬-ëª¨í‚¹\" style=\"position:relative;\"><a href=\"#3-zustand-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC-%EB%AA%A8%ED%82%B9\" aria-label=\"3 zustand ìƒíƒœ ê´€ë¦¬ ëª¨í‚¹ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Zustand ìƒíƒœ ê´€ë¦¬ ëª¨í‚¹</h2>\n<h3 id=\"1-setuptestsjsì—ì„œ-ëª¨í‚¹-ì„ ì–¸\" style=\"position:relative;\"><a href=\"#1-setuptestsjs%EC%97%90%EC%84%9C-%EB%AA%A8%ED%82%B9-%EC%84%A0%EC%96%B8\" aria-label=\"1 setuptestsjsì—ì„œ ëª¨í‚¹ ì„ ì–¸ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) <code class=\"language-text\">setupTests.js</code>ì—ì„œ ëª¨í‚¹ ì„ ì–¸</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"34593269402634387000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// setupTests.js\r\n...\r\nvi.mock('zustand');\r\n...`, `34593269402634387000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// setupTests.js</span>\r\n<span class=\"token operator\">...</span>\r\nvi<span class=\"token punctuation\">.</span><span class=\"token function\">mock</span><span class=\"token punctuation\">(</span><span class=\"token string\">'zustand'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token operator\">...</span></code></pre></div>\n<h3 id=\"2-zustandjsì—ì„œ-ìŠ¤í† ì–´-ì´ˆê¸°í™”\" style=\"position:relative;\"><a href=\"#2-zustandjs%EC%97%90%EC%84%9C-%EC%8A%A4%ED%86%A0%EC%96%B4-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\"2 zustandjsì—ì„œ ìŠ¤í† ì–´ ì´ˆê¸°í™” permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) <code class=\"language-text\">zustand.js</code>ì—ì„œ ìŠ¤í† ì–´ ì´ˆê¸°í™”</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"71857170393882950000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// __mocks__/zustand.js\r\n// __mocks__ í´ë” ë‚´ì— íŒŒì¼ ì´ë¦„ì´ ë™ì¼í•œ ëª¨ë“ˆì„ ìƒì„±í•˜ë©´ ìë™ìœ¼ë¡œ ëª¨í‚¹ ê°€ëŠ¥\r\nconst { create: actualCreate } = await vi.importActual('zustand');\r\nimport { act } from '@testing-library/react';\r\n\r\n// ì•±ì— ì„ ì–¸ëœ ëª¨ë“  ìŠ¤í† ì–´ì— ëŒ€í•´ ì¬ì„¤ì • í•¨ìˆ˜ë¥¼ ì €ì¥\r\nconst storeResetFns = new Set();\r\n\r\n// ìŠ¤í† ì–´ë¥¼ ìƒì„±í•  ë•Œ ì´ˆê¸° ìƒíƒœë¥¼ ê°€ì ¸ì™€ ë¦¬ì…‹ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  setì— ì¶”ê°€í•©ë‹ˆë‹¤.\r\nexport const create = createState => {\r\n  const store = actualCreate(createState);\r\n  const initialState = store.getState();\r\n  storeResetFns.add(() => store.setState(initialState, true));\r\n  return store;\r\n};\r\n\r\n// í…ŒìŠ¤íŠ¸ê°€ êµ¬ë™ë˜ê¸° ì „ ëª¨ë“  ìŠ¤í† ì–´ë¥¼ ë¦¬ì…‹í•©ë‹ˆë‹¤.\r\nbeforeEach(() => {\r\n  act(() => storeResetFns.forEach(resetFn => resetFn()));\r\n});`, `71857170393882950000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// __mocks__/zustand.js</span>\r\n<span class=\"token comment\">// __mocks__ í´ë” ë‚´ì— íŒŒì¼ ì´ë¦„ì´ ë™ì¼í•œ ëª¨ë“ˆì„ ìƒì„±í•˜ë©´ ìë™ìœ¼ë¡œ ëª¨í‚¹ ê°€ëŠ¥</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">create</span><span class=\"token operator\">:</span> actualCreate <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> vi<span class=\"token punctuation\">.</span><span class=\"token function\">importActual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'zustand'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> act <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// ì•±ì— ì„ ì–¸ëœ ëª¨ë“  ìŠ¤í† ì–´ì— ëŒ€í•´ ì¬ì„¤ì • í•¨ìˆ˜ë¥¼ ì €ì¥</span>\r\n<span class=\"token keyword\">const</span> storeResetFns <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// ìŠ¤í† ì–´ë¥¼ ìƒì„±í•  ë•Œ ì´ˆê¸° ìƒíƒœë¥¼ ê°€ì ¸ì™€ ë¦¬ì…‹ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  setì— ì¶”ê°€í•©ë‹ˆë‹¤.</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">create</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">createState</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">actualCreate</span><span class=\"token punctuation\">(</span>createState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> initialState <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  storeResetFns<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> store<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>initialState<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> store<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// í…ŒìŠ¤íŠ¸ê°€ êµ¬ë™ë˜ê¸° ì „ ëª¨ë“  ìŠ¤í† ì–´ë¥¼ ë¦¬ì…‹í•©ë‹ˆë‹¤.</span>\r\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">act</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> storeResetFns<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resetFn</span> <span class=\"token operator\">=></span> <span class=\"token function\">resetFn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"3-ìŠ¤í† ì–´-ìƒíƒœ-ë³€ê²½ì„-ìœ„í•œ-mockzustandstorejsx-ìƒì„±\" style=\"position:relative;\"><a href=\"#3-%EC%8A%A4%ED%86%A0%EC%96%B4-%EC%83%81%ED%83%9C-%EB%B3%80%EA%B2%BD%EC%9D%84-%EC%9C%84%ED%95%9C-mockzustandstorejsx-%EC%83%9D%EC%84%B1\" aria-label=\"3 ìŠ¤í† ì–´ ìƒíƒœ ë³€ê²½ì„ ìœ„í•œ mockzustandstorejsx ìƒì„± permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) ìŠ¤í† ì–´ ìƒíƒœ ë³€ê²½ì„ ìœ„í•œ <code class=\"language-text\">mockZustandStore.jsx</code> ìƒì„±</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"19687698827815270000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// mockZustandStore.jsx\r\nimport { useCartStore } from '@/store/cart';\r\nimport { useFilterStore } from '@/store/filter';\r\nimport { useUserStore } from '@/store/user';\r\n\r\nconst mockStore = (hook, state) => {\r\n  const initStore = hook.getState();\r\n  hook.setState({ ...initStore, ...state }, true);\r\n};\r\n\r\nexport const mockUseUserStore = state => {\r\n  mockStore(useUserStore, state);\r\n};\r\n\r\nexport const mockUseCartStore = state => {\r\n  mockStore(useCartStore, state);\r\n};\r\n\r\nexport const mockUseFilterStore = state => {\r\n  mockStore(useFilterStore, state);\r\n};`, `19687698827815270000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// mockZustandStore.jsx</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useCartStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store/cart'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useFilterStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store/filter'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useUserStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store/user'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mockStore</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">hook<span class=\"token punctuation\">,</span> state</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> initStore <span class=\"token operator\">=</span> hook<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  hook<span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>initStore<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>state <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mockUseUserStore</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">mockStore</span><span class=\"token punctuation\">(</span>useUserStore<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mockUseCartStore</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">mockStore</span><span class=\"token punctuation\">(</span>useCartStore<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mockUseFilterStore</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">mockStore</span><span class=\"token punctuation\">(</span>useFilterStore<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"4-zustand-ìƒíƒœ-ê´€ë¦¬-í†µí•©-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#4-zustand-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"4 zustand ìƒíƒœ ê´€ë¦¬ í†µí•© í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Zustand ìƒíƒœ ê´€ë¦¬ í†µí•© í…ŒìŠ¤íŠ¸</h2>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"46043419107006620000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`import { screen, within } from '@testing-library/react';\r\nimport React from 'react';\r\n\r\nimport ProductInfoTable from '@/pages/cart/components/ProductInfoTable';\r\nimport {\r\n  mockUseCartStore,\r\n  mockUseUserStore,\r\n} from '@/utils/test/mockZustandStore';\r\nimport render from '@/utils/test/render';\r\n\r\nbeforeEach(() => {\r\n  mockUseUserStore({ user: { id: 10 } });\r\n  mockUseCartStore({\r\n    cart: {\r\n      6: {\r\n        id: 6,\r\n        title: 'Handmade Cotton Fish',\r\n        price: 809,\r\n        description:\r\n          'The slim & simple Maple Gaming Keyboard from Dev Byte comes with a sleek body and 7- Color RGB LED Back-lighting for smart functionality',\r\n        images: [\r\n          'https://user-images.githubusercontent.com/35371660/230712070-afa23da8-1bda-4cc4-9a59-50a263ee629f.png',\r\n          'https://user-images.githubusercontent.com/35371660/230711992-01a1a621-cb3d-44a7-b499-20e8d0e1a4bc.png',\r\n          'https://user-images.githubusercontent.com/35371660/230712056-2c468ef4-45c9-4bad-b379-a9a19d9b79a9.png',\r\n        ],\r\n        count: 3,\r\n      },\r\n      7: {\r\n        id: 7,\r\n        title: 'Awesome Concrete Shirt',\r\n        price: 442,\r\n        description:\r\n          'The Nagasaki Lander is the trademarked name of several series of Nagasaki sport bikes, that started with the 1984 ABC800J',\r\n        images: [\r\n          'https://user-images.githubusercontent.com/35371660/230762100-b119d836-3c5b-4980-9846-b7d32ea4a08f.png',\r\n          'https://user-images.githubusercontent.com/35371660/230762118-46d965ab-7ea8-4e8a-9c0f-3ed90f96e1cd.png',\r\n          'https://user-images.githubusercontent.com/35371660/230762139-002578da-092d-4f34-8cae-2cf3b0dfabe9.png',\r\n        ],\r\n        count: 4,\r\n      },\r\n    },\r\n  });\r\n});\r\n\r\nit('ì¥ë°”êµ¬ë‹ˆì— í¬í•¨ëœ ì•„ì´í…œë“¤ì˜ ì´ë¦„, ìˆ˜ëŸ‰, í•©ê³„ê°€ ì œëŒ€ë¡œ ë…¸ì¶œëœë‹¤', async () => {\r\n  await render(<ProductInfoTable />);\r\n\r\n  const [firstItem, secondItem] = screen.getAllByRole('row');\r\n\r\n  expect(\r\n    within(firstItem).getByText('Handmade Cotton Fish'),\r\n  ).toBeInTheDocument();\r\n  expect(within(firstItem).getByRole('textbox')).toHaveValue('3');\r\n  expect(within(firstItem).getByText('\\$2,427.00')).toBeInTheDocument();\r\n\r\n  expect(\r\n    within(secondItem).getByText('Awesome Concrete Shirt'),\r\n  ).toBeInTheDocument();\r\n  expect(within(secondItem).getByRole('textbox')).toHaveValue('4');\r\n  expect(within(secondItem).getByText('\\$1,768.00')).toBeInTheDocument();\r\n});\r\n\r\nit('íŠ¹ì • ì•„ì´í…œì˜ ìˆ˜ëŸ‰ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ê°’ì´ ì¬ê³„ì‚°ë˜ì–´ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ ëœë‹¤', async () => {\r\n  const { user } = await render(<ProductInfoTable />);\r\n  const [firstItem] = screen.getAllByRole('row');\r\n\r\n  const input = within(firstItem).getByRole('textbox');\r\n\r\n  await user.clear(input);\r\n  await user.type(input, '5');\r\n\r\n  // 809 * 5 = 4045\r\n  expect(screen.getByText('\\$4,045.00')).toBeInTheDocument();\r\n});\r\n\r\nit('íŠ¹ì • ì•„ì´í…œì˜ ìˆ˜ëŸ‰ì´ 1000ê°œë¡œ ë³€ê²½ë  ê²½ìš° &quot;ìµœëŒ€ 999ê°œ ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤!&quot;ë¼ê³  ê²½ê³  ë¬¸êµ¬ê°€ ë…¸ì¶œëœë‹¤', async () => {\r\n  const alertSpy = vi.fn();\r\n\r\n  // windows.alertë¥¼ ëª¨í‚¹\r\n  vi.stubGlobal('alert', alertSpy);\r\n\r\n  const { user } = await render(<ProductInfoTable />);\r\n  const [firstItem] = screen.getAllByRole('row');\r\n\r\n  const input = within(firstItem).getByRole('textbox');\r\n\r\n  await user.clear(input);\r\n  await user.type(input, '1000');\r\n\r\n  expect(alertSpy).toHaveBeenNthCalledWith(1, 'ìµœëŒ€ 999ê°œ ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤!');\r\n});\r\n\r\nit('íŠ¹ì • ì•„ì´í…œì˜ ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•  ê²½ìš° í•´ë‹¹ ì•„ì´í…œì´ ì‚¬ë¼ì§„ë‹¤', async () => {\r\n  const { user } = await render(<ProductInfoTable />);\r\n\r\n  const [, secondItem] = screen.getAllByRole('row');\r\n  const deleteButton = within(secondItem).getByRole('button');\r\n\r\n  expect(screen.getByText('Awesome Concrete Shirt')).toBeInTheDocument();\r\n\r\n  await user.click(deleteButton);\r\n\r\n  // queryBy~ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•œë‹¤\r\n  expect(screen.queryByText('Awesome Concrete Shirt')).not.toBeInTheDocument();\r\n});`, `46043419107006620000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> screen<span class=\"token punctuation\">,</span> within <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> ProductInfoTable <span class=\"token keyword\">from</span> <span class=\"token string\">'@/pages/cart/components/ProductInfoTable'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\r\n  mockUseCartStore<span class=\"token punctuation\">,</span>\r\n  mockUseUserStore<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/test/mockZustandStore'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> render <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/test/render'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">mockUseUserStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function\">mockUseCartStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">cart</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token number\">6</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Handmade Cotton Fish'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> <span class=\"token number\">809</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span>\r\n          <span class=\"token string\">'The slim &amp; simple Maple Gaming Keyboard from Dev Byte comes with a sleek body and 7- Color RGB LED Back-lighting for smart functionality'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">images</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n          <span class=\"token string\">'https://user-images.githubusercontent.com/35371660/230712070-afa23da8-1bda-4cc4-9a59-50a263ee629f.png'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string\">'https://user-images.githubusercontent.com/35371660/230711992-01a1a621-cb3d-44a7-b499-20e8d0e1a4bc.png'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string\">'https://user-images.githubusercontent.com/35371660/230712056-2c468ef4-45c9-4bad-b379-a9a19d9b79a9.png'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token number\">7</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Awesome Concrete Shirt'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> <span class=\"token number\">442</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">description</span><span class=\"token operator\">:</span>\r\n          <span class=\"token string\">'The Nagasaki Lander is the trademarked name of several series of Nagasaki sport bikes, that started with the 1984 ABC800J'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">images</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n          <span class=\"token string\">'https://user-images.githubusercontent.com/35371660/230762100-b119d836-3c5b-4980-9846-b7d32ea4a08f.png'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string\">'https://user-images.githubusercontent.com/35371660/230762118-46d965ab-7ea8-4e8a-9c0f-3ed90f96e1cd.png'</span><span class=\"token punctuation\">,</span>\r\n          <span class=\"token string\">'https://user-images.githubusercontent.com/35371660/230762139-002578da-092d-4f34-8cae-2cf3b0dfabe9.png'</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ì¥ë°”êµ¬ë‹ˆì— í¬í•¨ëœ ì•„ì´í…œë“¤ì˜ ì´ë¦„, ìˆ˜ëŸ‰, í•©ê³„ê°€ ì œëŒ€ë¡œ ë…¸ì¶œëœë‹¤'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductInfoTable <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>firstItem<span class=\"token punctuation\">,</span> secondItem<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'row'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token function\">within</span><span class=\"token punctuation\">(</span>firstItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Handmade Cotton Fish'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">within</span><span class=\"token punctuation\">(</span>firstItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'textbox'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">within</span><span class=\"token punctuation\">(</span>firstItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'$2,427.00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token function\">within</span><span class=\"token punctuation\">(</span>secondItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Awesome Concrete Shirt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">within</span><span class=\"token punctuation\">(</span>secondItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'textbox'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">'4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">within</span><span class=\"token punctuation\">(</span>secondItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'$1,768.00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'íŠ¹ì • ì•„ì´í…œì˜ ìˆ˜ëŸ‰ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ê°’ì´ ì¬ê³„ì‚°ë˜ì–´ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ ëœë‹¤'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductInfoTable <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>firstItem<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'row'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> <span class=\"token function\">within</span><span class=\"token punctuation\">(</span>firstItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'textbox'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">,</span> <span class=\"token string\">'5'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// 809 * 5 = 4045</span>\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'$4,045.00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'íŠ¹ì • ì•„ì´í…œì˜ ìˆ˜ëŸ‰ì´ 1000ê°œë¡œ ë³€ê²½ë  ê²½ìš° \"ìµœëŒ€ 999ê°œ ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤!\"ë¼ê³  ê²½ê³  ë¬¸êµ¬ê°€ ë…¸ì¶œëœë‹¤'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> alertSpy <span class=\"token operator\">=</span> vi<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// windows.alertë¥¼ ëª¨í‚¹</span>\r\n  vi<span class=\"token punctuation\">.</span><span class=\"token function\">stubGlobal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'alert'</span><span class=\"token punctuation\">,</span> alertSpy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductInfoTable <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>firstItem<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'row'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> <span class=\"token function\">within</span><span class=\"token punctuation\">(</span>firstItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'textbox'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">,</span> <span class=\"token string\">'1000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>alertSpy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenNthCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ìµœëŒ€ 999ê°œ ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'íŠ¹ì • ì•„ì´í…œì˜ ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•  ê²½ìš° í•´ë‹¹ ì•„ì´í…œì´ ì‚¬ë¼ì§„ë‹¤'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductInfoTable <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span> secondItem<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'row'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">const</span> deleteButton <span class=\"token operator\">=</span> <span class=\"token function\">within</span><span class=\"token punctuation\">(</span>secondItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Awesome Concrete Shirt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>deleteButton<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// queryBy~ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ í•œë‹¤</span>\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">queryByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Awesome Concrete Shirt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"5-mswìœ¼ë¡œ-apitanstack-query-ëª¨í‚¹\" style=\"position:relative;\"><a href=\"#5-msw%EC%9C%BC%EB%A1%9C-apitanstack-query-%EB%AA%A8%ED%82%B9\" aria-label=\"5 mswìœ¼ë¡œ apitanstack query ëª¨í‚¹ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. mswìœ¼ë¡œ API(TanStack query) ëª¨í‚¹</h2>\n<h3 id=\"1-tanstack-query-í…ŒìŠ¤íŠ¸-í™˜ê²½-ì„¤ì •\" style=\"position:relative;\"><a href=\"#1-tanstack-query-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"1 tanstack query í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) TanStack query í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"94067033727766990000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// render.jsx\r\n// https://tanstack.com/query/v4/docs/react/guides/testing\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      // âœ… turns retries off\r\n      retry: false,\r\n    },\r\n  },\r\n  logger: {\r\n    log: console.log,\r\n    warn: console.warn,\r\n    // âœ… no more errors on the console for tests\r\n    error: process.env.NODE_ENV === 'test' ? () => {} : console.error,\r\n  },\r\n});`, `94067033727766990000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// render.jsx</span>\r\n<span class=\"token comment\">// https://tanstack.com/query/v4/docs/react/guides/testing</span>\r\n<span class=\"token keyword\">const</span> queryClient <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">defaultOptions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">queries</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token comment\">// âœ… turns retries off</span>\r\n      <span class=\"token literal-property property\">retry</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token literal-property property\">logger</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token literal-property property\">log</span><span class=\"token operator\">:</span> console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">,</span>\r\n    <span class=\"token literal-property property\">warn</span><span class=\"token operator\">:</span> console<span class=\"token punctuation\">.</span>warn<span class=\"token punctuation\">,</span>\r\n    <span class=\"token comment\">// âœ… no more errors on the console for tests</span>\r\n    <span class=\"token literal-property property\">error</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'test'</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">:</span> console<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"2-api-ëª¨í‚¹-í•¸ë“¤ëŸ¬-ìƒì„±\" style=\"position:relative;\"><a href=\"#2-api-%EB%AA%A8%ED%82%B9-%ED%95%B8%EB%93%A4%EB%9F%AC-%EC%83%9D%EC%84%B1\" aria-label=\"2 api ëª¨í‚¹ í•¸ë“¤ëŸ¬ ìƒì„± permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) API ëª¨í‚¹ í•¸ë“¤ëŸ¬ ìƒì„±</h3>\n<p>ë‹¤ìŒê³¼ ê°™ì€ í•¸ë“¤ëŸ¬ì—ì„œ API ìš”ì²­ì„ ê°€ë¡œì±„ì„œ ì‘ë‹µì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"88842432503454150000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// __mocks__/handlers.js\r\nimport { rest } from 'msw';\r\n\r\nimport response from '@/__mocks__/response';\r\nimport { apiRoutes } from '@/apiRoutes';\r\n\r\nconst API_DOMAIN = 'http://localhost:3000';\r\n\r\nexport const handlers = [\r\n  ...[\r\n    // URL ê²½ë¡œ\r\n    apiRoutes.users,\r\n    apiRoutes.product, \r\n    apiRoutes.categories, \r\n    apiRoutes.couponList,\r\n  ].map(path =>\r\n    // í•´ë‹¹ ê²½ë¡œì— ëŒ€í•œ ì‘ë‹µ ì„¤ì •\r\n    rest.get(\\`\\${API_DOMAIN}\\${path}\\`, (_, res, ctx) =>\r\n      res(ctx.status(200), ctx.json(response[path])),\r\n    ),\r\n  ),\r\n  rest.get(\\`\\${API_DOMAIN}\\${apiRoutes.products}\\`, (req, res, ctx) => {\r\n    const data = response[apiRoutes.products];\r\n    const offset = Number(req.url.searchParams.get('offset'));\r\n    const limit = Number(req.url.searchParams.get('limit'));\r\n    const products = data.products.filter(\r\n      (_, index) => index >= offset && index < offset + limit,\r\n    );\r\n\r\n    return res(\r\n      ctx.status(200),\r\n      ctx.json({ products, lastPage: products.length < limit }),\r\n    );\r\n  }),\r\n  rest.get(\\`\\${API_DOMAIN}\\${apiRoutes.profile}\\`, (req, res, ctx) => {\r\n    return res(ctx.status(200), ctx.json(null));\r\n  }),\r\n  rest.post(\\`\\${API_DOMAIN}\\${apiRoutes.users}\\`, (req, res, ctx) => {\r\n    if (req.body.name === 'FAIL') {\r\n      return res(ctx.status(500));\r\n    }\r\n\r\n    return res(ctx.status(200));\r\n  }),\r\n  rest.post(\\`\\${API_DOMAIN}\\${apiRoutes.login}\\`, (req, res, ctx) => {\r\n    if (req.body.email === 'FAIL@gmail.com') {\r\n      return res(ctx.status(401));\r\n    }\r\n\r\n    return res(\r\n      ctx.status(200),\r\n      ctx.json({\r\n        access_token: 'access_token',\r\n      }),\r\n    );\r\n  }),\r\n  rest.post(\\`\\${API_DOMAIN}\\${apiRoutes.log}\\`, (_, res, ctx) => {\r\n    return res(ctx.status(200));\r\n  }),\r\n];`, `88842432503454150000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// __mocks__/handlers.js</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> rest <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'msw'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> response <span class=\"token keyword\">from</span> <span class=\"token string\">'@/__mocks__/response'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> apiRoutes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/apiRoutes'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">API_DOMAIN</span> <span class=\"token operator\">=</span> <span class=\"token string\">'http://localhost:3000'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> handlers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n  <span class=\"token operator\">...</span><span class=\"token punctuation\">[</span>\r\n    <span class=\"token comment\">// URL ê²½ë¡œ</span>\r\n    apiRoutes<span class=\"token punctuation\">.</span>users<span class=\"token punctuation\">,</span>\r\n    apiRoutes<span class=\"token punctuation\">.</span>product<span class=\"token punctuation\">,</span> \r\n    apiRoutes<span class=\"token punctuation\">.</span>categories<span class=\"token punctuation\">,</span> \r\n    apiRoutes<span class=\"token punctuation\">.</span>couponList<span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span> <span class=\"token operator\">=></span>\r\n    <span class=\"token comment\">// í•´ë‹¹ ê²½ë¡œì— ëŒ€í•œ ì‘ë‹µ ì„¤ì •</span>\r\n    rest<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_DOMAIN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\r\n      <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  rest<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_DOMAIN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiRoutes<span class=\"token punctuation\">.</span>products<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> response<span class=\"token punctuation\">[</span>apiRoutes<span class=\"token punctuation\">.</span>products<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span>searchParams<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'offset'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> limit <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span>searchParams<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'limit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> products <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>products<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\r\n      <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> index <span class=\"token operator\">>=</span> offset <span class=\"token operator\">&amp;&amp;</span> index <span class=\"token operator\">&lt;</span> offset <span class=\"token operator\">+</span> limit<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>\r\n      ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      ctx<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> products<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">lastPage</span><span class=\"token operator\">:</span> products<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;</span> limit <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  rest<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_DOMAIN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiRoutes<span class=\"token punctuation\">.</span>profile<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ctx<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  rest<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_DOMAIN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiRoutes<span class=\"token punctuation\">.</span>users<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'FAIL'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">return</span> <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  rest<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_DOMAIN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiRoutes<span class=\"token punctuation\">.</span>login<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>email <span class=\"token operator\">===</span> <span class=\"token string\">'FAIL@gmail.com'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token keyword\">return</span> <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">401</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span> <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>\r\n      ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n      ctx<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">access_token</span><span class=\"token operator\">:</span> <span class=\"token string\">'access_token'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  rest<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">API_DOMAIN</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiRoutes<span class=\"token punctuation\">.</span>log<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> ctx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">return</span> <span class=\"token function\">res</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"3-setuptestsjsì—ì„œ-msw-ì„¤ì •\" style=\"position:relative;\"><a href=\"#3-setuptestsjs%EC%97%90%EC%84%9C-msw-%EC%84%A4%EC%A0%95\" aria-label=\"3 setuptestsjsì—ì„œ msw ì„¤ì • permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) setupTests.jsì—ì„œ msw ì„¤ì •</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"24975588000968730000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`import { setupServer } from 'msw/node';\r\n\r\nimport { handlers } from '@/__mocks__/handlers';\r\n\r\n// msw ì„œë²„ ìƒì„±\r\nexport const server = setupServer(...handlers);\r\n\r\nbeforeAll(() => {\r\n  // msw ì„œë²„ ì‹œì‘\r\n  server.listen();\r\n});\r\n\r\nafterEach(() => {\r\n  // msw ì„œë²„ ì´ˆê¸°í™”\r\n  // ì¼ë¶€ í…ŒìŠ¤íŠ¸ëŠ” server.use()ë¥¼ ì‚¬ìš©í•˜ì—¬ API ì‘ë‹µì„ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— ì´ˆê¸°í™”ê°€ í•„ìš”\r\n  server.resetHandlers();\r\n  vi.clearAllMocks();\r\n});\r\n\r\nafterAll(() => {\r\n  vi.resetAllMocks();\r\n  // msw ì„œë²„ ì¢…ë£Œ\r\n  server.close();\r\n});`, `24975588000968730000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> setupServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'msw/node'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> handlers <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/__mocks__/handlers'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// msw ì„œë²„ ìƒì„±</span>\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token function\">setupServer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>handlers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// msw ì„œë²„ ì‹œì‘</span>\r\n  server<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">afterEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// msw ì„œë²„ ì´ˆê¸°í™”</span>\r\n  <span class=\"token comment\">// ì¼ë¶€ í…ŒìŠ¤íŠ¸ëŠ” server.use()ë¥¼ ì‚¬ìš©í•˜ì—¬ API ì‘ë‹µì„ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— ì´ˆê¸°í™”ê°€ í•„ìš”</span>\r\n  server<span class=\"token punctuation\">.</span><span class=\"token function\">resetHandlers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  vi<span class=\"token punctuation\">.</span><span class=\"token function\">clearAllMocks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  vi<span class=\"token punctuation\">.</span><span class=\"token function\">resetAllMocks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token comment\">// msw ì„œë²„ ì¢…ë£Œ</span>\r\n  server<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"6-mswìœ¼ë¡œ-apitanstack-query-í†µí•©-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#6-msw%EC%9C%BC%EB%A1%9C-apitanstack-query-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"6 mswìœ¼ë¡œ apitanstack query í†µí•© í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. mswìœ¼ë¡œ API(TanStack query) í†µí•© í…ŒìŠ¤íŠ¸</h2>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"31145603356024720000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`import { screen, within } from '@testing-library/react';\r\nimport React from 'react';\r\n\r\nimport data from '@/__mocks__/response/products.json';\r\nimport ProductList from '@/pages/home/components/ProductList';\r\nimport { formatPrice } from '@/utils/formatter';\r\nimport {\r\n  mockUseUserStore,\r\n  mockUseCartStore,\r\n} from '@/utils/test/mockZustandStore';\r\nimport render from '@/utils/test/render';\r\n\r\nconst PRODUCT_PAGE_LIMIT = 5;\r\n\r\nconst navigateFn = vi.fn();\r\n\r\nvi.mock('react-router-dom', async () => {\r\n  const original = await vi.importActual('react-router-dom');\r\n  return {\r\n    ...original,\r\n    useNavigate: () => navigateFn,\r\n    useLocation: () => ({\r\n      state: {\r\n        prevPath: 'prevPath',\r\n      },\r\n    }),\r\n  };\r\n});\r\n\r\nit('ë¡œë”©ì´ ì™„ë£Œëœ ê²½ìš° ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ê°€ ì œëŒ€ë¡œ ëª¨ë‘ ë…¸ì¶œëœë‹¤', async () => {\r\n  await render(<ProductList limit={PRODUCT_PAGE_LIMIT} />);\r\n\r\n  // findBy~ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ 1ì´ˆë™ì•ˆ 50msë§ˆë‹¤ ìš”ì†Œë¥¼ ì¡°íšŒí•˜ì—¬ ë¹„ë™ê¸° ìš”ì†Œë¥¼ ê¸°ë‹¤ë¦°ë‹¤.\r\n  const productCards = await screen.findAllByTestId('product-card');\r\n\r\n  expect(productCards).toHaveLength(PRODUCT_PAGE_LIMIT);\r\n\r\n  productCards.forEach((el, index) => {\r\n    const productCard = within(el);\r\n    const product = data.products[index];\r\n\r\n    expect(productCard.getByText(product.title)).toBeInTheDocument();\r\n    expect(productCard.getByText(product.category.name)).toBeInTheDocument();\r\n    expect(\r\n      productCard.getByText(formatPrice(product.price)),\r\n    ).toBeInTheDocument();\r\n    expect(\r\n      productCard.getByRole('button', { name: 'ì¥ë°”êµ¬ë‹ˆ' }),\r\n    ).toBeInTheDocument();\r\n    expect(\r\n      productCard.getByRole('button', { name: 'êµ¬ë§¤' }),\r\n    ).toBeInTheDocument();\r\n  });\r\n});\r\n\r\nit('ë³´ì—¬ì¤„ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ê°€ ë” ìˆëŠ” ê²½ìš° show more ë²„íŠ¼ì´ ë…¸ì¶œë˜ë©°, ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë” ê°€ì ¸ì˜¨ë‹¤.', async () => {\r\n  const { user } = await render(<ProductList limit={PRODUCT_PAGE_LIMIT} />);\r\n\r\n  await screen.findAllByTestId('product-card');\r\n\r\n  expect(screen.getByText('Show more')).toBeInTheDocument();\r\n\r\n  const moreBtn = screen.getByText('Show more');\r\n  await user.click(moreBtn);\r\n\r\n  expect(await screen.findAllByTestId('product-card')).toHaveLength(\r\n    PRODUCT_PAGE_LIMIT * 2,\r\n  );\r\n});\r\n\r\nit('ë³´ì—¬ì¤„ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ê°€ ì—†ëŠ” ê²½ìš° show more ë²„íŠ¼ì´ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.', async () => {\r\n  await render(<ProductList limit={20} />);\r\n\r\n  await screen.findAllByTestId('product-card');\r\n\r\n  expect(screen.queryByText('Show more')).not.toBeInTheDocument();\r\n});\r\n\r\ndescribe('ë¡œê·¸ì¸ ìƒíƒœì¼ ê²½ìš°', () => {\r\n  beforeEach(() => {\r\n    mockUseUserStore({ isLogin: true, user: { id: 10 } });\r\n  });\r\n\r\n  it('êµ¬ë§¤ ë²„íŠ¼ í´ë¦­ì‹œ addCartItem ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©°, &quot;/cart&quot; ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.', async () => {\r\n    const addCartItemFn = vi.fn();\r\n    mockUseCartStore({ addCartItem: addCartItemFn });\r\n\r\n    const { user } = await render(<ProductList limit={PRODUCT_PAGE_LIMIT} />);\r\n\r\n    await screen.findAllByTestId('product-card');\r\n\r\n    // ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.\r\n    const productIndex = 0;\r\n    await user.click(\r\n      screen.getAllByRole('button', { name: 'êµ¬ë§¤' })[productIndex],\r\n    );\r\n\r\n    expect(addCartItemFn).toHaveBeenNthCalledWith(\r\n      1,\r\n      data.products[productIndex],\r\n      10,\r\n      1,\r\n    );\r\n    expect(navigateFn).toHaveBeenNthCalledWith(1, '/cart');\r\n  });\r\n\r\n  it('ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ í´ë¦­ì‹œ &quot;ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì™„ë£Œ!&quot; toastë¥¼ ë…¸ì¶œí•˜ë©°, addCartItem ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.', async () => {\r\n    const addCartItemFn = vi.fn();\r\n    mockUseCartStore({ addCartItem: addCartItemFn });\r\n\r\n    const { user } = await render(<ProductList limit={PRODUCT_PAGE_LIMIT} />);\r\n\r\n    await screen.findAllByTestId('product-card');\r\n\r\n    // ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.\r\n    const productIndex = 0;\r\n    const product = data.products[productIndex];\r\n    await user.click(\r\n      screen.getAllByRole('button', { name: 'ì¥ë°”êµ¬ë‹ˆ' })[productIndex],\r\n    );\r\n\r\n    expect(addCartItemFn).toHaveBeenNthCalledWith(1, product, 10, 1);\r\n    expect(\r\n      screen.getByText(\\`\\${product.title} ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì™„ë£Œ!\\`),\r\n    ).toBeInTheDocument();\r\n  });\r\n});\r\n\r\ndescribe('ë¡œê·¸ì¸ì´ ë˜ì–´ ìˆì§€ ì•Šì€ ê²½ìš°', () => {\r\n  it('êµ¬ë§¤ ë²„íŠ¼ í´ë¦­ì‹œ &quot;/login&quot; ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.', async () => {\r\n    const { user } = await render(<ProductList limit={PRODUCT_PAGE_LIMIT} />);\r\n\r\n    await screen.findAllByTestId('product-card');\r\n\r\n    // ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.\r\n    const productIndex = 0;\r\n    await user.click(\r\n      screen.getAllByRole('button', { name: 'êµ¬ë§¤' })[productIndex],\r\n    );\r\n\r\n    expect(navigateFn).toHaveBeenNthCalledWith(1, '/login');\r\n  });\r\n\r\n  it('ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ í´ë¦­ì‹œ &quot;/login&quot; ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.', async () => {\r\n    const { user } = await render(<ProductList limit={PRODUCT_PAGE_LIMIT} />);\r\n\r\n    await screen.findAllByTestId('product-card');\r\n\r\n    // ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.\r\n    const productIndex = 0;\r\n    await user.click(\r\n      screen.getAllByRole('button', { name: 'ì¥ë°”êµ¬ë‹ˆ' })[productIndex],\r\n    );\r\n\r\n    expect(navigateFn).toHaveBeenNthCalledWith(1, '/login');\r\n  });\r\n});\r\n\r\nit('ìƒí’ˆ í´ë¦­ì‹œ &quot;/product/:productId&quot; ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.', async () => {\r\n  const { user } = await render(<ProductList limit={PRODUCT_PAGE_LIMIT} />);\r\n\r\n  const [firstProduct] = await screen.findAllByTestId('product-card');\r\n\r\n  // ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.\r\n  await user.click(firstProduct);\r\n\r\n  expect(navigateFn).toHaveBeenNthCalledWith(1, '/product/6');\r\n});`, `31145603356024720000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> screen<span class=\"token punctuation\">,</span> within <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">import</span> data <span class=\"token keyword\">from</span> <span class=\"token string\">'@/__mocks__/response/products.json'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> ProductList <span class=\"token keyword\">from</span> <span class=\"token string\">'@/pages/home/components/ProductList'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> formatPrice <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/formatter'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\r\n  mockUseUserStore<span class=\"token punctuation\">,</span>\r\n  mockUseCartStore<span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/test/mockZustandStore'</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> render <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/test/render'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PRODUCT_PAGE_LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> navigateFn <span class=\"token operator\">=</span> vi<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nvi<span class=\"token punctuation\">.</span><span class=\"token function\">mock</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> original <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> vi<span class=\"token punctuation\">.</span><span class=\"token function\">importActual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token operator\">...</span>original<span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">useNavigate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> navigateFn<span class=\"token punctuation\">,</span>\r\n    <span class=\"token function-variable function\">useLocation</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n      <span class=\"token literal-property property\">state</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token literal-property property\">prevPath</span><span class=\"token operator\">:</span> <span class=\"token string\">'prevPath'</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ë¡œë”©ì´ ì™„ë£Œëœ ê²½ìš° ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ê°€ ì œëŒ€ë¡œ ëª¨ë‘ ë…¸ì¶œëœë‹¤'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// findBy~ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ 1ì´ˆë™ì•ˆ 50msë§ˆë‹¤ ìš”ì†Œë¥¼ ì¡°íšŒí•˜ì—¬ ë¹„ë™ê¸° ìš”ì†Œë¥¼ ê¸°ë‹¤ë¦°ë‹¤.</span>\r\n  <span class=\"token keyword\">const</span> productCards <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>productCards<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveLength</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  productCards<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> productCard <span class=\"token operator\">=</span> <span class=\"token function\">within</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> product <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>products<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>productCard<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>productCard<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\r\n      productCard<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token function\">formatPrice</span><span class=\"token punctuation\">(</span>product<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\r\n      productCard<span class=\"token punctuation\">.</span><span class=\"token function\">getByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'ì¥ë°”êµ¬ë‹ˆ'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\r\n      productCard<span class=\"token punctuation\">.</span><span class=\"token function\">getByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'êµ¬ë§¤'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ë³´ì—¬ì¤„ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ê°€ ë” ìˆëŠ” ê²½ìš° show more ë²„íŠ¼ì´ ë…¸ì¶œë˜ë©°, ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë” ê°€ì ¸ì˜¨ë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Show more'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> moreBtn <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Show more'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>moreBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveLength</span><span class=\"token punctuation\">(</span>\r\n    <span class=\"token constant\">PRODUCT_PAGE_LIMIT</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ë³´ì—¬ì¤„ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ê°€ ì—†ëŠ” ê²½ìš° show more ë²„íŠ¼ì´ ë…¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">20</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">queryByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Show more'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>not<span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ë¡œê·¸ì¸ ìƒíƒœì¼ ê²½ìš°'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token function\">mockUseUserStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">isLogin</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'êµ¬ë§¤ ë²„íŠ¼ í´ë¦­ì‹œ addCartItem ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©°, \"/cart\" ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> addCartItemFn <span class=\"token operator\">=</span> vi<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">mockUseCartStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">addCartItem</span><span class=\"token operator\">:</span> addCartItemFn <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.</span>\r\n    <span class=\"token keyword\">const</span> productIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>\r\n      screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'êµ¬ë§¤'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>productIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>addCartItemFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenNthCalledWith</span><span class=\"token punctuation\">(</span>\r\n      <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n      data<span class=\"token punctuation\">.</span>products<span class=\"token punctuation\">[</span>productIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\r\n      <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>navigateFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenNthCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/cart'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ í´ë¦­ì‹œ \"ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì™„ë£Œ!\" toastë¥¼ ë…¸ì¶œí•˜ë©°, addCartItem ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> addCartItemFn <span class=\"token operator\">=</span> vi<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">mockUseCartStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">addCartItem</span><span class=\"token operator\">:</span> addCartItemFn <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.</span>\r\n    <span class=\"token keyword\">const</span> productIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">const</span> product <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>products<span class=\"token punctuation\">[</span>productIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>\r\n      screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'ì¥ë°”êµ¬ë‹ˆ'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>productIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>addCartItemFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenNthCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> product<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>\r\n      screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product<span class=\"token punctuation\">.</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì™„ë£Œ!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ë¡œê·¸ì¸ì´ ë˜ì–´ ìˆì§€ ì•Šì€ ê²½ìš°'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'êµ¬ë§¤ ë²„íŠ¼ í´ë¦­ì‹œ \"/login\" ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.</span>\r\n    <span class=\"token keyword\">const</span> productIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>\r\n      screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'êµ¬ë§¤'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>productIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>navigateFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenNthCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/login'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ í´ë¦­ì‹œ \"/login\" ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token comment\">// ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.</span>\r\n    <span class=\"token keyword\">const</span> productIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>\r\n      screen<span class=\"token punctuation\">.</span><span class=\"token function\">getAllByRole</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'ì¥ë°”êµ¬ë‹ˆ'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>productIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>navigateFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenNthCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/login'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ìƒí’ˆ í´ë¦­ì‹œ \"/product/:productId\" ê²½ë¡œë¡œ navigate í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>ProductList limit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PRODUCT_PAGE_LIMIT</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>firstProduct<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">findAllByTestId</span><span class=\"token punctuation\">(</span><span class=\"token string\">'product-card'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// ì²«ë²ˆì§¸ ìƒí’ˆì„ ëŒ€ìƒìœ¼ë¡œ ê²€ì¦í•œë‹¤.</span>\r\n  <span class=\"token keyword\">await</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>firstProduct<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>navigateFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenNthCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/product/6'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">0. ë“¤ì–´ê°€ë©°</a></p>\n</li>\n<li>\n<p><a href=\"#1-fe%EC%97%90%EC%84%9C-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%9E%80\">1. FEì—ì„œ í†µí•© í…ŒìŠ¤íŠ¸ë€?</a></p>\n</li>\n<li>\n<p><a href=\"#2-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8C%80%EC%83%81-%EC%84%A0%EC%A0%95\">2. í†µí•© í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì„ ì •</a></p>\n<ul>\n<li><a href=\"#1-%EA%B1%B0%EB%8C%80%ED%95%9C-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9D%98-%EB%8B%A8%EC%A0%90\">(1) ê±°ëŒ€í•œ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ë‹¨ì </a></li>\n<li><a href=\"#2-%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81%EC%9D%84-%EA%B8%B0%EC%A4%80%EC%9C%BC%EB%A1%9C-%EB%B6%84%EB%A6%AC%ED%95%9C-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9D%98-%EC%9E%A5%EC%A0%90\">(2) ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œ í†µí•© í…ŒìŠ¤íŠ¸ì˜ ì¥ì </a></li>\n<li><a href=\"#3-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\">(3) í†µí•© í…ŒìŠ¤íŠ¸ ì£¼ì˜ì‚¬í•­</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-zustand-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC-%EB%AA%A8%ED%82%B9\">3. Zustand ìƒíƒœ ê´€ë¦¬ ëª¨í‚¹</a></p>\n<ul>\n<li><a href=\"#1-setuptestsjs%EC%97%90%EC%84%9C-%EB%AA%A8%ED%82%B9-%EC%84%A0%EC%96%B8\">(1) <code class=\"language-text\">setupTests.js</code>ì—ì„œ ëª¨í‚¹ ì„ ì–¸</a></li>\n<li><a href=\"#2-zustandjs%EC%97%90%EC%84%9C-%EC%8A%A4%ED%86%A0%EC%96%B4-%EC%B4%88%EA%B8%B0%ED%99%94\">(2) <code class=\"language-text\">zustand.js</code>ì—ì„œ ìŠ¤í† ì–´ ì´ˆê¸°í™”</a></li>\n<li><a href=\"#3-%EC%8A%A4%ED%86%A0%EC%96%B4-%EC%83%81%ED%83%9C-%EB%B3%80%EA%B2%BD%EC%9D%84-%EC%9C%84%ED%95%9C-mockzustandstorejsx-%EC%83%9D%EC%84%B1\">(3) ìŠ¤í† ì–´ ìƒíƒœ ë³€ê²½ì„ ìœ„í•œ <code class=\"language-text\">mockZustandStore.jsx</code> ìƒì„±</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-zustand-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8\">4. Zustand ìƒíƒœ ê´€ë¦¬ í†µí•© í…ŒìŠ¤íŠ¸</a></p>\n</li>\n<li>\n<p><a href=\"#5-msw%EC%9C%BC%EB%A1%9C-apitanstack-query-%EB%AA%A8%ED%82%B9\">5. mswìœ¼ë¡œ API(TanStack query) ëª¨í‚¹</a></p>\n<ul>\n<li><a href=\"#1-tanstack-query-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\">(1) TanStack query í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •</a></li>\n<li><a href=\"#2-api-%EB%AA%A8%ED%82%B9-%ED%95%B8%EB%93%A4%EB%9F%AC-%EC%83%9D%EC%84%B1\">(2) API ëª¨í‚¹ í•¸ë“¤ëŸ¬ ìƒì„±</a></li>\n<li><a href=\"#3-setuptestsjs%EC%97%90%EC%84%9C-msw-%EC%84%A4%EC%A0%95\">(3) setupTests.jsì—ì„œ msw ì„¤ì •</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#6-msw%EC%9C%BC%EB%A1%9C-apitanstack-query-%ED%86%B5%ED%95%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8\">6. mswìœ¼ë¡œ API(TanStack query) í†µí•© í…ŒìŠ¤íŠ¸</a></p>\n</li>\n</ul>","frontmatter":{"title":"FE í†µí•© í…ŒìŠ¤íŠ¸","date":"2024ë…„ 01ì›” 06ì¼","tags":["FE","Test"]}}}]}},"pageContext":{"slug":"/lecture/í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸/2024-01-07-FE-í†µí•©-í…ŒìŠ¤íŠ¸/","previous":{"fields":{"slug":"/lecture/í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸/2023-12-23-FE-ë‹¨ìœ„-í…ŒìŠ¤íŠ¸/"},"frontmatter":{"categories":["í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸"],"title":"FE ë‹¨ìœ„ í…ŒìŠ¤íŠ¸","date":"2023-12-23 21:00:00 +0900","tags":["FE","Test"]}},"next":{"fields":{"slug":"/lecture/í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸/2024-01-08-FE-í†µí•©-í…ŒìŠ¤íŠ¸-ì˜ˆì‹œ/"},"frontmatter":{"categories":["í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸"],"title":"FE í†µí•© í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ","date":"2024-01-08 01:00:00 +0900","tags":["FE","Test"]}}}},"staticQueryHashes":[],"slicesMap":{}}