{"componentChunkName":"component---src-templates-post-template-tsx","path":"/tech/2024-01-15-Proxy-íŒ¨í„´/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"0-ë“¤ì–´ê°€ë©°\" style=\"position:relative;\"><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"0 ë“¤ì–´ê°€ë©° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. ë“¤ì–´ê°€ë©°</h2>\n<p>JSì—ì„œ <code class=\"language-text\">Proxy</code> ê°ì²´ì™€ ì‚¬ìš©ë²•ì— ëŒ€í•´ ì •ë¦¬</p>\n<h2 id=\"1-js-proxy-ê°ì²´\" style=\"position:relative;\"><a href=\"#1-js-proxy-%EA%B0%9D%EC%B2%B4\" aria-label=\"1 js proxy ê°ì²´ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. JS Proxy ê°ì²´</h2>\n<p>JSì—ì„œ <code class=\"language-text\">Proxy</code> ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"75089386645098320000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`const proxy = new Proxy(target, handler);`, `75089386645098320000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> proxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>target : proxyê°€ ê°ì‹¸ê³  ìˆëŠ” ê°ì²´</li>\n<li>handler : targetì— ëŒ€í•œ ì‘ì—…ì„ ê°€ë¡œì±„ê³  ìˆ˜í–‰í•  í•¨ìˆ˜</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"99028501587177880000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`const targetObject = {\r\n  message: &quot;Hello, Proxy!&quot;,\r\n};\r\n\r\nconst handler = {\r\n  get: function (target, prop) {\r\n    console.log(\\`Accessing property: \\${prop}\\`);\r\n    return target[prop];\r\n  },\r\n};\r\n\r\nconst proxy = new Proxy(targetObject, handler);\r\nconsole.log(proxy.message);\r\n\r\n// 1. handlerì˜ getë©”ì†Œë“œë¡œ ì¸í•˜ì—¬ proxy.messageë¡œ ì ‘ê·¼ì‹œ &quot;Accessing property: message&quot; ì¶œë ¥\r\n// 2. &quot;Hello, Proxy!&quot;ë¼ëŠ” ë¬¸ìì—´ì„ ë°˜í™˜í•˜ê³  &quot;Hello, Proxy!&quot;ì´ ì¶œë ¥`, `99028501587177880000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> targetObject <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Hello, Proxy!\"</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> prop</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Accessing property: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>prop<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">return</span> target<span class=\"token punctuation\">[</span>prop<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> proxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>targetObject<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>proxy<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token comment\">// 1. handlerì˜ getë©”ì†Œë“œë¡œ ì¸í•˜ì—¬ proxy.messageë¡œ ì ‘ê·¼ì‹œ \"Accessing property: message\" ì¶œë ¥</span>\r\n<span class=\"token comment\">// 2. \"Hello, Proxy!\"ë¼ëŠ” ë¬¸ìì—´ì„ ë°˜í™˜í•˜ê³  \"Hello, Proxy!\"ì´ ì¶œë ¥</span></code></pre></div>\n<ul>\n<li>handlerì—ì„œ ê°€ë¡œì±Œ ìˆ˜ ìˆëŠ” ë©”ì„œë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>í•¸ë“¤ëŸ¬ ë©”ì„œë“œ</th>\n<th>ì‘ë™ ì‹œì </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>get</td>\n<td>í”„ë¡œí¼í‹°ë¥¼ ì½ì„ ë•Œ</td>\n</tr>\n<tr>\n<td>set</td>\n<td>í”„ë¡œí¼í‹°ì— ê°’ì„ ì“¸ ë•Œ</td>\n</tr>\n<tr>\n<td>has</td>\n<td>in ì—°ì‚°ìê°€ ì‘ë™í•  ë•Œ</td>\n</tr>\n<tr>\n<td>deleteProperty</td>\n<td>delete ì—°ì‚°ìê°€ ì‘ë™í•  ë•Œ</td>\n</tr>\n<tr>\n<td>apply</td>\n<td>í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ</td>\n</tr>\n<tr>\n<td>constructor</td>\n<td>new ì—°ì‚°ìê°€ ì‘ë™í•  ë•Œ</td>\n</tr>\n<tr>\n<td>getPrototypeOf</td>\n<td>Object.getPrototypeOf</td>\n</tr>\n<tr>\n<td>setPrototypeOf</td>\n<td>Object.setPrototypeOf</td>\n</tr>\n<tr>\n<td>isExtensible</td>\n<td>Object.isExtensible</td>\n</tr>\n<tr>\n<td>preventExtensions</td>\n<td>Object.preventExtensions</td>\n</tr>\n<tr>\n<td>getOwnPropertyDescriptor</td>\n<td>Object.getOwnPropertyDescriptor</td>\n</tr>\n<tr>\n<td>ownKeys</td>\n<td>Object.getOwnPropertyNames, Object.getOwnPropertySymbols</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"2-ë¦¬ì•¡íŠ¸ì—ì„œ-ì‚¬ìš©-ì˜ˆì‹œ\" style=\"position:relative;\"><a href=\"#2-%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"2 ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš© ì˜ˆì‹œ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš© ì˜ˆì‹œ</h2>\n<h3 id=\"1-ì ‘ê·¼-ê¶Œí•œ-ê²€ì¦-ë°-ì œì–´\" style=\"position:relative;\"><a href=\"#1-%EC%A0%91%EA%B7%BC-%EA%B6%8C%ED%95%9C-%EA%B2%80%EC%A6%9D-%EB%B0%8F-%EC%A0%9C%EC%96%B4\" aria-label=\"1 ì ‘ê·¼ ê¶Œí•œ ê²€ì¦ ë° ì œì–´ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) ì ‘ê·¼ ê¶Œí•œ ê²€ì¦ ë° ì œì–´</h3>\n<p>ìœ ì € ë°ì´í„°ë¥¼ fetchí•˜ëŠ” í•¨ìˆ˜ ì‹¤í–‰ ì‹œ <code class=\"language-text\">Proxy</code> ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ì ‘ê·¼ ê¶Œí•œì„ ê²€ì¦í•˜ê³  ì œì–´í•  ìˆ˜ ìˆë‹¤.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"76266682079581520000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(` useEffect(() => {\r\n  const userProxy = new Proxy(fetchUserData(), {\r\n   get(target, prop) {\r\n    // ì‚¬ìš©ìê°€ ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\r\n    if (prop === 'password' && !isUserAdmin()) {\r\n     console.warn('Unauthorized access to password!');\r\n     return null; // nullì„ ë°˜í™˜í•˜ê±°ë‚˜ í—ˆê°€ë˜ì§€ ì•Šì€ ì ‘ê·¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\r\n    }\r\n\r\n    return target[prop];\r\n   },\r\n  });\r\n\r\n  setUserData(userProxy);\r\n }, []);`, `76266682079581520000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> userProxy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetchUserData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n   <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> prop<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token comment\">// ì‚¬ìš©ìê°€ ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prop <span class=\"token operator\">===</span> <span class=\"token string\">'password'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isUserAdmin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Unauthorized access to password!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n     <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// nullì„ ë°˜í™˜í•˜ê±°ë‚˜ í—ˆê°€ë˜ì§€ ì•Šì€ ì ‘ê·¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">return</span> target<span class=\"token punctuation\">[</span>prop<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token function\">setUserData</span><span class=\"token punctuation\">(</span>userProxy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"2-ì„œë²„-ìƒíƒœ-ìºì‹±\" style=\"position:relative;\"><a href=\"#2-%EC%84%9C%EB%B2%84-%EC%83%81%ED%83%9C-%EC%BA%90%EC%8B%B1\" aria-label=\"2 ì„œë²„ ìƒíƒœ ìºì‹± permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) ì„œë²„ ìƒíƒœ ìºì‹±</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"48327616091878770000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`const cachedUserData = new Proxy([], {\r\n get: function (target: any) {\r\n  if (!target.data) {\r\n   // ìºì‹œë˜ì§€ ì•Šì€ ê²½ìš° ë°ì´í„° ê°€ì ¸ì˜µë‹ˆë‹¤.\r\n   target.data = fetchUserData();\r\n  } else {\r\n   console.log('Returning cached data...');\r\n  }\r\n\r\n  return target.data;\r\n },\r\n});`, `48327616091878770000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cachedUserData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\r\n <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> any</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>target<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n   <span class=\"token comment\">// ìºì‹œë˜ì§€ ì•Šì€ ê²½ìš° ë°ì´í„° ê°€ì ¸ì˜µë‹ˆë‹¤.</span>\r\n   target<span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> <span class=\"token function\">fetchUserData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Returning cached data...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token keyword\">return</span> target<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\r\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"3-ë¹„ìš©ì´-í°-ì—°ì‚°-ìºì‹±\" style=\"position:relative;\"><a href=\"#3-%EB%B9%84%EC%9A%A9%EC%9D%B4-%ED%81%B0-%EC%97%B0%EC%82%B0-%EC%BA%90%EC%8B%B1\" aria-label=\"3 ë¹„ìš©ì´ í° ì—°ì‚° ìºì‹± permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) ë¹„ìš©ì´ í° ì—°ì‚° ìºì‹±</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"53177049042208520000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"ğŸ“‹  ì½”ë“œë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// Proxy ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜\r\nconst createExpensiveFunction = () => {\r\n\r\n // ë¹„ìš©ì´ í° í•¨ìˆ˜\r\n const expensiveFunction = (arg) => {\r\n  console.log(\\`Calculating expensive value for \\${arg}\\`);\r\n\r\n  return arg * 2;\r\n };\r\n\r\n const cache = new Map();\r\n\r\n // Proxy í•¸ë“¤ëŸ¬\r\n const handler = {\r\n  // apply ë©”ì„œë“œëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì‘ë™\r\n  apply(target, thisArg, argumentsList) {\r\n   const arg = argumentsList[0];\r\n\r\n   if (!cache.has(arg)) {\r\n    cache.set(arg, expensiveFunction(arg));\r\n   } else {\r\n    console.log('Returning cached data...');\r\n   }\r\n\r\n   return cache.get(arg);\r\n  },\r\n };\r\n \r\n // expensiveFunctionì„ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ í•¸ë“¤ëŸ¬ì˜ apply ë©”ì„œë“œê°€ ì‘ë™í•˜ëŠ” Proxy ê°ì²´ë¥¼ ë°˜í™˜\r\n return new Proxy(expensiveFunction, handler);\r\n};`, `53177049042208520000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Proxy ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">createExpensiveFunction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n\r\n <span class=\"token comment\">// ë¹„ìš©ì´ í° í•¨ìˆ˜</span>\r\n <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">expensiveFunction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">arg</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Calculating expensive value for </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>arg<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> arg <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n\r\n <span class=\"token keyword\">const</span> cache <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n <span class=\"token comment\">// Proxy í•¸ë“¤ëŸ¬</span>\r\n <span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// apply ë©”ì„œë“œëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì‘ë™</span>\r\n  <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> thisArg<span class=\"token punctuation\">,</span> argumentsList</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n   <span class=\"token keyword\">const</span> arg <span class=\"token operator\">=</span> argumentsList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\r\n\r\n   <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>cache<span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    cache<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>arg<span class=\"token punctuation\">,</span> <span class=\"token function\">expensiveFunction</span><span class=\"token punctuation\">(</span>arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n   <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Returning cached data...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n   <span class=\"token punctuation\">}</span>\r\n\r\n   <span class=\"token keyword\">return</span> cache<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>arg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n \r\n <span class=\"token comment\">// expensiveFunctionì„ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ í•¸ë“¤ëŸ¬ì˜ apply ë©”ì„œë“œê°€ ì‘ë™í•˜ëŠ” Proxy ê°ì²´ë¥¼ ë°˜í™˜</span>\r\n <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Proxy</span><span class=\"token punctuation\">(</span>expensiveFunction<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"3-ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#3-%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"3 ë§ˆì¹˜ë©° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ë§ˆì¹˜ë©°</h2>\n<p>ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•œ ëŠë‚Œì´ë‹¤, <code class=\"language-text\">Typescript</code>ì—ì„œ ì œê³µí•˜ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ë¦¬ì•¡íŠ¸ì—ì„œ í™œìš©ì„ ëª»í•´ì„œ ì•„ì‰¬ì› ëŠ”ë° <code class=\"language-text\">Proxy</code>ë¥¼ ì´ìš©í•˜ë©´ ë°ì½”ë ˆì´í„°ì™€ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">0. ë“¤ì–´ê°€ë©°</a></p>\n</li>\n<li>\n<p><a href=\"#1-js-proxy-%EA%B0%9D%EC%B2%B4\">1. JS Proxy ê°ì²´</a></p>\n</li>\n<li>\n<p><a href=\"#2-%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">2. ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš© ì˜ˆì‹œ</a></p>\n<ul>\n<li><a href=\"#1-%EC%A0%91%EA%B7%BC-%EA%B6%8C%ED%95%9C-%EA%B2%80%EC%A6%9D-%EB%B0%8F-%EC%A0%9C%EC%96%B4\">(1) ì ‘ê·¼ ê¶Œí•œ ê²€ì¦ ë° ì œì–´</a></li>\n<li><a href=\"#2-%EC%84%9C%EB%B2%84-%EC%83%81%ED%83%9C-%EC%BA%90%EC%8B%B1\">(2) ì„œë²„ ìƒíƒœ ìºì‹±</a></li>\n<li><a href=\"#3-%EB%B9%84%EC%9A%A9%EC%9D%B4-%ED%81%B0-%EC%97%B0%EC%82%B0-%EC%BA%90%EC%8B%B1\">(3) ë¹„ìš©ì´ í° ì—°ì‚° ìºì‹±</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EB%A7%88%EC%B9%98%EB%A9%B0\">3. ë§ˆì¹˜ë©°</a></p>\n</li>\n</ul>","frontmatter":{"title":"JS Proxy íŒ¨í„´","summary":"JSì—ì„œ Proxy ê°ì²´ì™€ ì‚¬ìš©ë²•","date":"2024ë…„ 01ì›” 15ì¼","tags":["ë””ìì¸ íŒ¨í„´","JS"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvElEQVR42lWSO2/TUBSAD2l4CEHTR5KmzYPUdu7LdmLH9o3j2HGTPmhVSidEBRLQGSSWSFAGJCZmfgE7I4hSwQgMbGxMCMoIYiidCjgXOW2BHuk7517pnu+c4QKmDsSoqgd5GR9bbF5NrDjXRo1CMMYyzuicfmH8ysz6aSikQGVugjB+DNN9yH5NHDpiAMUH5gCq1oGQEHrBk1MTw/L7Yk76RCTtQ3o4913J6r1UKg2duTVA1AZM+QByUI8IK/EDFl/4yCTVFUX2ydSodjOXoT256N3JjJV7pMxXrHpQYowrRG3I9ABMuUwoR3HvXyFjjWQ8iTC+YTNf1KzGL8Nv7nZaiz/mvMVd257dURjfk7EjKsQRmP6DMB4RxgVmzgZhA0cSKOPJgZ3xDZN6osbbP80gFMvhqrg4syK6jWUR1j3Rtfw+NwJBNK+vVVt9TW/2EbF/ov0hGwcbJgfpQHhXwXWh+wt7RmM+WgqWo9XOQnTeXYout91oLfCjxWA+CrudKOzORxbvRlWjtafXvHjTu/GGVG0kB4lpLjDNvcfUhmD14LduhaJlh6LdCIRrtkXX4WLe8YRr+6I71xKtdiCqZiAMMxA10xdE5fcNM4Rz2DoZi5J6zQNVb/a0micQtnYQsXaw2tyu0Bi+TWnri6nNbEvY/lZ1Ol+p3vqMsL2NCf+IibNLmHsjX6oApIsAFWyBpBigoPq4LJs1VOfILS/MllLSJppEL9Ek2iJTlS2WnX5n5vFt5BoPC7L0pkzoZhGRrRJirwqIPU7lio9GFHP9fyEUqQZG3odLcD2XOT7xVM5KL5Ts9HM5W3paGs68NVNTl9Ikfys9NfG6hORneWl6s6Aoz4sVvDWSnXx3tkQeHPmUWHUSWLITIGAQWocADSgoHoGh7Ck4jDMwBK6uQ1Uqg6tiCOo1GDuRAIAh+AM5G9cEeHa+qAAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/340c7bf65f23d40d8adae8164ec59100/47784/image.png","srcSet":"/static/340c7bf65f23d40d8adae8164ec59100/822a9/image.png 350w,\n/static/340c7bf65f23d40d8adae8164ec59100/66634/image.png 700w,\n/static/340c7bf65f23d40d8adae8164ec59100/47784/image.png 1400w","sizes":"(min-width: 1400px) 1400px, 100vw"},"sources":[{"srcSet":"/static/340c7bf65f23d40d8adae8164ec59100/e5908/image.webp 350w,\n/static/340c7bf65f23d40d8adae8164ec59100/23874/image.webp 700w,\n/static/340c7bf65f23d40d8adae8164ec59100/238c1/image.webp 1400w","type":"image/webp","sizes":"(min-width: 1400px) 1400px, 100vw"}]},"width":1400,"height":787}},"publicURL":"/static/340c7bf65f23d40d8adae8164ec59100/image.png"},"sources":["superLipbalmë‹˜ì˜ ë¸”ë¡œê·¸"],"sources_link":["https://gist.github.com/superLipbalm/dea43695b66897d1b4d246b402aab320"]}}}]}},"pageContext":{"slug":"/tech/2024-01-15-Proxy-íŒ¨í„´/","previous":{"fields":{"slug":"/tech/2024-01-06-Git-ëª…ë ¹ì–´/"},"frontmatter":{"tags":["Git"],"categories":null,"update":true,"title":"Git ëª…ë ¹ì–´"}},"next":{"fields":{"slug":"/tech/2024-03-12-package-lock.json/"},"frontmatter":{"tags":["JS","NPM"],"categories":null,"update":true,"title":"package-lock.json"}}}},"staticQueryHashes":[],"slicesMap":{}}