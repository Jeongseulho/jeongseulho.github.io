{"componentChunkName":"component---src-templates-post-template-tsx","path":"/tech/2024-04-05-peerDependencies-오류/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2 id=\"0-들어가며\" style=\"position:relative;\"><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"0 들어가며 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. 들어가며</h2>\n<p><code class=\"language-text\">ERESOLVE unable to resolve dependency tree</code> 에러가 발생하였고 이를 해결하는 과정에서 <code class=\"language-text\">peerDependencies</code>에 대해 알아보았다.</p>\n<h2 id=\"1-peerdependencies\" style=\"position:relative;\"><a href=\"#1-peerdependencies\" aria-label=\"1 peerdependencies permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. peerDependencies</h2>\n<p><code class=\"language-text\">my-react-lib</code>라는 리액트 17버전에 의존하는 라이브러리를 만들었다고 가정하자. 그러면 해당 라이브러리의 <code class=\"language-text\">package.json</code>에서 호환되는 <code class=\"language-text\">react 17</code> 버전을 <code class=\"language-text\">peerDependencies</code>로 추가한다.</p>\n<ul>\n<li>my-react-lib package.json</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"54247066636279900000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"📋  코드를 복사했습니다.\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`  &quot;peerDependencies&quot;: {\r\n    &quot;react&quot;: &quot;^17.0.0&quot;\r\n  }`, `54247066636279900000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                copy<svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">  <span class=\"token property\">\"peerDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.0\"</span>\r\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>이처럼 <code class=\"language-text\">peerDependencies</code>는 실제 의존하지는 않지만 다른 라이브러리와 호환이 필요한 경우 해당 라이브러리의 버전을 명시하는데 사용된다.</p>\n<h2 id=\"2-eresolve-unable-to-resolve-dependency-tree\" style=\"position:relative;\"><a href=\"#2-eresolve-unable-to-resolve-dependency-tree\" aria-label=\"2 eresolve unable to resolve dependency tree permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ERESOLVE unable to resolve dependency tree</h2>\n<p>해당 에러는 <code class=\"language-text\">peerDependencies</code>와 관련된 에러로, <code class=\"language-text\">peerDependencies</code>에 명시된 버전과 호환되지 않는 버전의 라이브러리가 설치되어 있을 때 발생한다.<br>\n예를 들어 리액트 18버전을 사용한 <code class=\"language-text\">my-app</code>이라는 프로젝트가 있고 이 프로젝트에서 <code class=\"language-text\">my-react-lib</code>를 사용한다고 가정하자.<br>\n그러면 <code class=\"language-text\">my-react-lib</code>의 <code class=\"language-text\">peerDependencies</code>에 <code class=\"language-text\">react 17</code>이 명시되어 있고 <code class=\"language-text\">my-app</code>에서 <code class=\"language-text\">react 18</code>을 사용하고 있다면 <code class=\"language-text\">peerDependencies</code>와 호환되지 않아 에러가 발생한다.</p>\n<h2 id=\"3-해결-방법\" style=\"position:relative;\"><a href=\"#3-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"3 해결 방법 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 해결 방법</h2>\n<h3 id=\"31---legacy-peer-deps-옵션\" style=\"position:relative;\"><a href=\"#31---legacy-peer-deps-%EC%98%B5%EC%85%98\" aria-label=\"31   legacy peer deps 옵션 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1 <code class=\"language-text\">--legacy-peer-deps</code> 옵션</h3>\n<p>만약 <code class=\"language-text\">npm install --legacy-peer-deps</code>로 설치하면 <code class=\"language-text\">peerDependencies</code>를 무시하고 설치된다, npm 6버전 이하에서는 에러를 띄우지않고 이 방법으로 자동으로 해결하며 설치된다.</p>\n<h3 id=\"32---force-옵션\" style=\"position:relative;\"><a href=\"#32---force-%EC%98%B5%EC%85%98\" aria-label=\"32   force 옵션 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2 <code class=\"language-text\">--force</code> 옵션</h3>\n<p><code class=\"language-text\">package-lock.json</code>에 필요한 <code class=\"language-text\">peerDependencies</code>를 루트 프로젝트에 설치하여 해결할 수 있다, 단 이 경우 노드모듈의 용량이 매우 커진다.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#0-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">0. 들어가며</a></p>\n</li>\n<li>\n<p><a href=\"#1-peerdependencies\">1. peerDependencies</a></p>\n</li>\n<li>\n<p><a href=\"#2-eresolve-unable-to-resolve-dependency-tree\">2. ERESOLVE unable to resolve dependency tree</a></p>\n</li>\n<li>\n<p><a href=\"#3-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\">3. 해결 방법</a></p>\n<ul>\n<li><a href=\"#31---legacy-peer-deps-%EC%98%B5%EC%85%98\">3.1 <code class=\"language-text\">--legacy-peer-deps</code> 옵션</a></li>\n<li><a href=\"#32---force-%EC%98%B5%EC%85%98\">3.2 <code class=\"language-text\">--force</code> 옵션</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"peerDependencies 오류","summary":"peerDependencies 관련 오류의 원인과 해결 방법","date":"2024년 04월 05일","tags":["JS","NPM"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnElEQVR42m2SSW7rMBBEfYxopiRSosjmPGqyk12Af//7fMBKvDACNAq1eV2NQt8ESDX2rCYJ9vN4WOcJWZRyAFpK+zSKc4UxrWv0NjehbOg71gyaJcmMsZ4QSsjEuQghLwuM44wQLormL1jqgDoz07zfz/Px/f0vpbUsG4TwNLG6RmXZ1jVqmv7Sy/zAyviVjMNHkbe7d9G5KKUVwnCuKAUAPU2sLNuq6qqqK8v28j+wsSHjQXQkhXPbzuP4XNdjXY/7/cv7rJSdZ35tAVBCGGM8gEYIV1V308ZnPJCiTum8sPP8dC5p7WNcpTSMSSktIcs4zoQs08Qwpm07/CaPA0O9j+u6nsfx2LZz3+/OxSe/GeNz3imFomjez5bK+h4xNPi45rw7l6yN1oaUNu/zcTy8T5daG6S0yyK0doyJJ6xtHFD/UfQjHXoyjhRjihC+Sr5yXmnvbdOF86ZlIwlxmycKIFPajQlKWSktgBbCvPpnTHAuATQhywUL1Q9D1YS0xZABJIByLlobc95T2lLatHaU8mUBSmGe+evb/gPX7WyleF3ugQAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/c7575861707627bc63e77b34872fb3e7/d81de/image.png","srcSet":"/static/c7575861707627bc63e77b34872fb3e7/c300f/image.png 171w,\n/static/c7575861707627bc63e77b34872fb3e7/e98a1/image.png 342w,\n/static/c7575861707627bc63e77b34872fb3e7/d81de/image.png 684w","sizes":"(min-width: 684px) 684px, 100vw"},"sources":[{"srcSet":"/static/c7575861707627bc63e77b34872fb3e7/35bec/image.webp 171w,\n/static/c7575861707627bc63e77b34872fb3e7/c7f53/image.webp 342w,\n/static/c7575861707627bc63e77b34872fb3e7/30edf/image.webp 684w","type":"image/webp","sizes":"(min-width: 684px) 684px, 100vw"}]},"width":684,"height":390}},"publicURL":"/static/c7575861707627bc63e77b34872fb3e7/image.png"}}}}]}},"pageContext":{"slug":"/tech/2024-04-05-peerDependencies-오류/","previous":{"fields":{"slug":"/tech/2024-04-02-TS-데코레이터/"},"frontmatter":{"tags":["TS","Decorator"],"update":true,"title":"TS 데코레이터"}},"next":{"fields":{"slug":"/tech/2024-04-06-실행-컨텍스트/"},"frontmatter":{"tags":["JS"],"update":true,"title":"실행 컨텍스트"}}}},"staticQueryHashes":[],"slicesMap":{}}